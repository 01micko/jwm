
CC = @CC@
CFLAGS = @CFLAGS@
LDFLAGS = @LDFLAGS@
VERSION = @VERSION@
BINDIR = @BINDIR@

VPATH=.:os

OBJECTS = border.o button.o client.o color.o command.o confirm.o cursor.o \
	debug.o desktop.o event.o error.o font.o group.o help.o hint.o \
	icon.o image.o key.o lex.o main.o match.o menu.o misc.o move.o outline.o \
	pager.o parse.o place.o popup.o render.o resize.o root.o screen.o \
	status.o swallow.o taskbar.o timing.o tray.o traybutton.o winmenu.o

EXE = jwm

.SUFFIXES: .o .h .c

all: $(EXE)

install: all
	strip $(EXE)
	install -d $(BINDIR)
	install $(EXE) $(BINDIR)/$(EXE)

depend:
	makedepend -Ym *.c

$(EXE): $(OBJECTS)
	$(CC) -o $(EXE) $(OBJECTS) $(LDFLAGS)

help.o: help.c
	$(CC) -c $(CFLAGS) -DVERSION=\"$(VERSION)\" help.c

.c.o: $<
	$(CC) -c $(CFLAGS) $<

clean:
	rm -f $(OBJECTS) $(EXE) core

